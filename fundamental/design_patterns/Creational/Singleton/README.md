# Патерн Singleton (Одинак)

Не більше одного екземпляру класу.

## Опис

Singleton - це креаційний патерн проектування, який гарантує, що клас має лише один екземпляр і надає глобальну точку доступу до цього екземпляра.

## Основні принципи

- **Єдиний екземпляр**: Клас може мати лише один екземпляр
- **Глобальний доступ**: Надає глобальну точку доступу до екземпляра
- **Лінива ініціалізація**: Екземпляр створюється лише при першому зверненні
- **Приватний конструктор**: Запобігає створенню нових екземплярів ззовні

## Переваги

- ✅ Гарантує наявність лише одного екземпляра
- ✅ Надає глобальну точку доступу
- ✅ Підтримує ліниву ініціалізацію
- ✅ Контролює кількість екземплярів

## Недоліки

- ❌ Порушує принцип єдиної відповідальності
- ❌ Може приховувати залежності
- ❌ Ускладнює тестування
- ❌ Може створювати проблеми в багатопоточності

## Коли використовувати

- Коли потрібен рівно один екземпляр класу
- Для керування глобальним станом
- Для кешування даних
- Для логування
- Для підключення до бази даних

## Реалізації

### 1. ES6 Class (es6class.js)

```javascript
class Singleton {
  constructor() {
    if (Singleton.instance) {
      return Singleton.instance;
    }
    Singleton.instance = this;
    this.name = 'some name';
  }
}
```

**Особливості:**
- Проста реалізація
- Використовує статичну властивість
- Не захищена від багатопоточності

### 2. TypeScript (typescript.ts)

```typescript
class Singleton {
  private static instance: Singleton;

  private constructor() {
    console.log("Singleton instance has been created");
  }

  public static getInstance(): Singleton {
    if (Singleton.instance) {
      return Singleton.instance;
    } else {
      Singleton.instance = new Singleton();
      return Singleton.instance;
    }
  }
}
```

**Особливості:**
- Приватний конструктор
- Статичний метод getInstance()
- Типізація TypeScript
- Більш безпечна реалізація

### 3. Webpack Module (webpack.js)

```javascript
class Singleton {
  _field = '';

  setField(value) {
    this._field = value;
  }

  getField() {
    return this._field;
  }
}

export default new Singleton();
```

**Особливості:**
- Використовує модульну систему
- Експортує готовий екземпляр
- Найпростіший спосіб в ES6 модулях

## Альтернативи

1. **Dependency Injection** - передача залежностей через параметри
2. **Service Locator** - реєстр сервісів
3. **Factory Pattern** - створення об'єктів через фабрику

## Приклади використання

- **Логер**: Єдиний об'єкт для логування по всій програмі
- **Конфігурація**: Глобальні налаштування додатку
- **Підключення до БД**: Єдине з'єднання з базою даних
- **Кеш**: Глобальний кеш даних

## Висновок

Singleton - це потужний патерн, але його слід використовувати обережно. Він може призвести до тісної зв'язаності коду та ускладнити тестування. Розглядайте альтернативи, такі як Dependency Injection, перед використанням Singleton.
